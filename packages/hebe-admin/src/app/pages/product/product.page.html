<ion-content>
  <form [formGroup]="productForm">
    <ion-grid>
      <ion-list>
        <ion-row>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <ion-item>
              <ion-label position="floating">Product Name</ion-label>
              <ion-input
                type="text"
                inputmode="text"
                placeholder="Product Name"
                formControlName="productName"
                minlength="4"
                maxlength="50"
                required="true"
                spellcheck="true"
                clearInput
              ></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <ion-item>
              <ion-label position="floating">Product Description:</ion-label>
              <ion-textarea
                type="text"
                inputmode="text"
                minlength="10"
                maxlength="300"
                placeholder="Enter Product Description here..."
                required="true"
                formControlName="productDescription"
                spellcheck="true"
                wrap="hard"
                rows="5"
              >
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <ion-item>
              <ion-label position="floating">Product Price:</ion-label>
              <ion-input
                type="number"
                inputmode="numeric"
                required="true"
                formControlName="productPrice"
                placeholder="Product Price in rupees"
                min="1"
                >â‚¹</ion-input
              >
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <ion-item>
              <ion-label position="floating">Product Image Link</ion-label>
              <ion-input
                type="text"
                inputmode="text"
                placeholder="Link"
                formControlName="productImage"
                minlength="4"
                maxlength="50"
                required="true"
                spellcheck="true"
                clearInput
              ></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <form [formGroup]="category">
            <ion-item>
              <ion-label position="floating">Product Category</ion-label>
              <ion-input
                type="text"
                inputmode="text"
                placeholder="Category"
                formControlName="productCategory"
                minlength="4"
                maxlength="50"
                required="true"
                spellcheck="true"
                clearInput
              ></ion-input>
              <ion-button (click)="addCategory(productId)" slot="end"
                  >Add Category</ion-button
                >
            </ion-item>
          </form>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <ion-item>
              <ion-label position="floating">Product Brand</ion-label>
              <ion-input
                formControlName="productBrand"
                readonly="true"
              ></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <form [formGroup]="tagForm">
              <ion-item>
                <ion-label position="floating">Product Tag</ion-label>
                <ion-input
                  type="text"
                  inputmode="text"
                  placeholder="Add Tags"
                  formControlName="productTag"
                  minlength="2"
                  maxlength="50"
                  required="true"
                  spellcheck="true"
                  clearInput
                ></ion-input>
                <ion-button (click)="addTag(productId)" slot="end"
                  >Add tag</ion-button
                >
              </ion-item>
            </form>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="productForm.dirty">
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <ion-button
              expand="block"
              (click)="updateProduct(productId)"
              [disabled]="productForm.invalid"
              >Update Product</ion-button
            >
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <ion-title>Tags</ion-title>
            <ion-list>
              <ion-item *ngFor="let tag of tags">
                <ion-label
                  >{{tag.tagName}}<ion-icon
                    name="close-circle-outline"
                    (click)="removeTag(tag.tagName,productId)"
                  ></ion-icon
                ></ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
          <ion-col size-md="6" size-lg="5" size-xs="12">
            <ion-title>Category</ion-title>
            <ion-list>
              <ion-item *ngFor="let category of categories">
                <ion-label
                  >{{category.name}}<ion-icon
                    name="close-circle-outline"
                    (click)="removeCategory(category.name,productId)"
                  ></ion-icon
                ></ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
      </ion-list>
    </ion-grid>
  </form>
</ion-content>
